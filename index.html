<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>nagy magia</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; }
    textarea { width: 100%; height: 100px; margin-bottom: 1rem; }
    input[type="text"] { width: 100%; font-family: monospace; padding: 0.5rem; cursor: pointer; }
    #copied {
      color: green;
      font-size: 0.9rem;
      visibility: hidden;
      margin-top: 0.3rem;
    }
  </style>
</head>
<body>

  <h1>Lillanak szeretettel</h1>
  <textarea id="input" placeholder="eredeti"></textarea>
  <button onclick="escapeForJSON()">lessgooooo</button>

  <h2>ez talan jo lesz:</h2>
  <input type="text" id="output" readonly title="masolas">
  <div id="copied">masolva!</div>

  <script>
    function escapeForJSON() {
      const input = document.getElementById("input").value;
      const escaped = JSON.stringify(input);
      const trimmed = escaped.slice(1, -1);
      document.getElementById("output").value = trimmed;
      document.getElementById("copied").style.visibility = "hidden";
    }

    document.getElementById("output").addEventListener("click", async function () {
      const output = this;
      await navigator.clipboard.writeText(output.value);
      const copied = document.getElementById("copied");
      copied.style.visibility = "visible";
      setTimeout(() => {
        copied.style.visibility = "hidden";
      }, 1500);
    });
  </script>

</body>
</html>
